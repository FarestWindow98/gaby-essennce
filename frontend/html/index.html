<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Essência de Gaby</title>
    <link rel="stylesheet" href="../css/index.css" />
  </head>

  <body>
    <!-- Seção Lobo -->
    <section class="lobo" id="lobo">
      <img src="../img/width_1120.webp" alt="lobo" />
    </section>

    <!-- Logo -->
    <section class="logo" id="logo">
      <img src="../img/logo.png" alt="logo" />
    </section>

    <!-- Menu vertical -->
    <header>
      <section class="menuvertical" id="menuvertical">
        <nav>
          <button>
            <!-- Lua (Home) -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              width="22"
              height="22"
            >
              <path
                d="M21 12.79A9 9 0 0111.21 3c-.17 0-.34 0-.51.02a7 7 0 109.28 9.77c.02-.17.02-.34.02-.51z"
              />
            </svg>
            <span>Home</span>
          </button>

          <button onclick="location.href='portifolio.html'">
            <!-- Pincel (Portfólio) -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 24 24"
              width="22"
              height="22"
            >
              <path
                d="M2 22c0-4.97 4.03-9 9-9h1v1c0 4.97-4.03 9-9 9H2zm12.5-9.5L20 7l-3-3-5.5 5.5V12h3z"
              />
            </svg>
            <span>Portfólio</span>
          </button>

          <button onclick="location.href='peca_sua_arte.html'">
            <!-- Caixa mágica (Arte Delivery) -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 24 24"
              width="22"
              height="22"
            >
              <path
                d="M12 2l9 4.5-9 4.5L3 6.5 12 2zm9 11l-9 4.5v-9l9-4.5v9zm-18 0v-9l9 4.5v9L3 13z"
              />
              <circle cx="12" cy="20" r="2" />
            </svg>
            <span>Arte Delivery</span>
          </button>

          <button onclick="location.href='sobre.html'">
            <!-- Olho surreal (Sobre) -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 24 24"
              width="22"
              height="22"
            >
              <path
                d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17a5 5 0 110-10 5 5 0 010 10z"
              />
              <circle cx="12" cy="12" r="2.5" />
            </svg>
            <span>Sobre</span>
          </button>

          <button
            id="btnPainel"
            style="display: none"
            onclick="location.href='painel.html'"
          >
            <!-- Quebra-cabeça (Painel) -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 24 24"
              width="22"
              height="22"
            >
              <path
                d="M22 13h-3v-2h3v2zm-4 0h-2v-2h2v2zm-3 0H7V7h8v6zm-9 0H4v-2h2v2zm-3 0H2v-2h1v2z"
              />
            </svg>
            <span>Painel</span>
          </button>
        </nav>
      </section>
    </header>

    <!-- Modal Login -->
    <div id="modalLogin" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="fecharModal('modalLogin')"
          >&times;</span
        >
        <h2>Login</h2>
        <form id="loginForm">
          <input type="email" id="loginEmail" placeholder="E-mail" required />
          <input type="password" id="loginSenha" placeholder="Senha" required />
          <button type="button" onclick="loginUsuario()">Entrar</button>
          <button type="button" class="alternar">Não possui conta</button>
          <div
            id="loginMessage"
            style="text-align: center; margin-top: 15px"
          ></div>
        </form>
      </div>
    </div>

    <!-- Modal Cadastro -->
    <div id="modalCadastro" class="modal">
      <div class="modal-content">
        <form id="register">
          <span class="close-btn" onclick="fecharModal('modalCadastro')"
            >&times;</span
          >
          <h2>Cadastro</h2>

          <label for="nome">Nome</label>
          <input type="text" id="nome" name="nome" required />

          <label for="email">Email</label>
          <input type="email" id="email" name="email" required />

          <label for="senha">Senha</label>
          <input type="password" id="senha" name="senha" required />

          <button type="button" onclick="cadastrarUsuario()">Cadastrar</button>
          <button id="btnAlternar" type="button" class="alternar">
            Já possui conta
          </button>
        </form>
      </div>
    </div>

    <!-- Conteúdo principal -->
    <main>
      <section class="logo">
        <button><a href="portifolio.html">Acesse meu Portifólio</a></button>
      </section>

      <div id="userBox" class="user-box">👤 Convidado</div>
      <div id="userMenu" class="user-menu">
        <button id="logoutBtn">Logout</button>
      </div>

      <!-- Botão que muda dinamicamente -->

      <!-- Menu do usuário -->
      <div id="userMenu" class="menu">
        <button id="logoutBtn">Logout</button>
      </div>

      <script>
        const userBox = document.getElementById("userBox");
        const userMenu = document.getElementById("userMenu");
        const logoutBtn = document.getElementById("logoutBtn");

        // Atualizar o botão
        function atualizarUserBox() {
          const user = localStorage.getItem("nome");

          if (user) {
            userBox.textContent = "👤 " + user;
          } else {
            userBox.textContent = "Faça seu login";
          }
        }

        atualizarUserBox();

        // Clique no botão principal
        userBox.addEventListener("click", () => {
          const user = localStorage.getItem("nome");

          if (user) {
            // Se já está logado -> abre menu
            userMenu.classList.toggle("show");
          } else {
            // Se não está logado -> abre modal
            abrirModal("modalLogin");
          }
        });
      </script>
    </main>

    <!-- Rodapé -->
    <footer>
      <a href="https://wa.me/553158589656">📞(33) 95671-8762</a>
      <a href="susto.html">✖️ @essenciadegaby</a>
    </footer>

    <script src="../js/index.js"></script>
  </body>

  <script>
    function atualizarPainel() {
      const tipo = localStorage.getItem("tipo");
      if (tipo == 1) {
        document.getElementById("btnPainel").style.display = "inline-block";
      } else {
        document.getElementById("btnPainel").style.display = "none";
      }
    }

    // Executa quando a página carrega
    window.addEventListener("DOMContentLoaded", atualizarPainel);
  </script>
</html>
